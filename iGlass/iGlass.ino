#include "iGlass.h"

//----------------------------------------------------------------------------------------------------------------------
// BLE
//----------------------------------------------------------------------------------------------------------------------
iGlass_ble 	ble_i;
int 		imu_char_idx, tmp_char_idx, clr_char_idx, mic_char_idx;
int16_t 	ble_IMU_buf[BLE_IMU_BUF_SIZE];
int			ble_imu_buf_idx = 0;

//----------------------------------------------------------------------------------------------------------------------
// IMU
//----------------------------------------------------------------------------------------------------------------------
iGlass_imu imu_i;

//----------------------------------------------------------------------------------------------------------------------
// unittesting
//----------------------------------------------------------------------------------------------------------------------
iGlass_unittest unittest_i;

void setup() {
	#if DEBUG
		if (!Serial) {
			Serial.begin(115200);
			while (!Serial);
		}
	#endif

	pinMode(LED_BUILTIN, OUTPUT);

	unittest_i = iGlass_unittest();
	unittest_i.init();
	// unittest_i.unittest_imu();
	// unittest_i.unittest_ble();
	unittest_i.unittest_all();
}

void loop() {
	
}
